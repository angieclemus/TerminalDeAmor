
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Terminal del Amor</title>
    <style>
        body {
            background-color: #1e1e1e;
            color: #00ff9f;
            font-family: monospace;
            padding: 20px;
        }
        .terminal {
            background-color: #111;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px #00ff9f;
            white-space: pre-wrap;
        }
        input, button {
            font-family: monospace;
            background-color: #00ff9f;
            color: #111;
            border: none;
            padding: 5px 10px;
            margin-top: 10px;
        }
        .input-line {
            margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="terminal" id="terminal">
    <div id="output">
> Bienvenida a la Terminal del Amor ‚ù§
> Presiona el bot√≥n para comenzar...
    </div>
    <div class="input-line">
        <button onclick="mostrarOpciones()">Comenzar</button>
    </div>
</div>

<script>
    const mensajeDescifrado = `
Mi amor

Hoy celebramos ocho meses juntas, y no puedo dejar de sentirme agradecida por cada momento a tu lado, Te amo demasiado, y no solo por qui√©n eres, sino por todo lo que eres capaz de lograr. Estoy muy orgullosa de ti, aunque a veces t√∫ misma no lo veas.

S√© que √∫ltimamente has tenido d√≠as dif√≠ciles, pero quiero recordarte que no est√°s sola, desde hoy y para siempre, somos un equipo, pase lo que pase, voy a estar contigo, estoy aqu√≠ para acompa√±arte, apoyarte y seguir construyendo juntas ese hogar con el que tanto so√±amos.

Quise regalarte algo especial para m√≠, realmente me esforc√©, y use mis conocimientos para darte algo diferente. Esta carta est√° codificada, no solo para hacerlo divertido, cada letra, cada esfuerzo, est√° lleno de amor. Me esforc√© para que fuera especial, porque t√∫ lo eres

Te elegir√≠a una y mil veces 
Te amo.
Felices 8 meses ‚ù§

Con amor,
Tu novia`;

    const binarioFinal = "01001101 01101001 00100000 01110110 01100001 01110010 01101001 01100001 01100010 01101100 01100101 00100000 01100110 01100001 01110110 01101111 01110010 01101001 01110100 01100001 00100000 01100101 01110011 00100000 01101110 01101111 01110011 01101111 01110100 01110010 01101111 01110011 00101110";

    function escribir(texto, delay = 30) {
        return new Promise((resolve) => {
            const output = document.getElementById('output');
            let i = 0;
            const interval = setInterval(() => {
                output.innerHTML += texto[i];
                i++;
                if (i >= texto.length) {
                    clearInterval(interval);
                    output.innerHTML += '\n';
                    resolve();
                }
            }, delay);
        });
    }

    async function mostrarOpciones() {
        document.querySelector('button').remove();
        await escribir("\n> Este mensaje est√° cifrado usando Cifrado C√©sar con desplazamiento 21.");
        await escribir("> ¬øQu√© deseas hacer?");
        await escribir("1. Descifrarlo yo misma üß†");
        await escribir("2. Ingresar la clave secreta para verlo autom√°ticamente üíå");

        const inputDiv = document.createElement("div");
        inputDiv.className = "input-line";
        inputDiv.innerHTML = `
> Escribe tu elecci√≥n (1 o 2): <input id="eleccion" maxlength="1" size="1">
<button onclick="procesarOpcion()">Enviar</button>`;
        document.getElementById("terminal").appendChild(inputDiv);
    }

    async function procesarOpcion() {
        const eleccion = document.getElementById("eleccion").value;
        if (eleccion === "1") {
            await escribir("\n> ¬°Te gusta el reto! üß©");
            await escribir("> Puedes usar esta herramienta para descifrarlo:");
            await escribir("https://www.dcode.fr/caesar-cipher");
            await escribir("> Desplazamiento -21 (o +5), ¬°t√∫ puedes!");
        } else if (eleccion === "2") {
            await escribir("\n> Introduce la clave secreta:");
            const inputClave = document.createElement("input");
            inputClave.type = "text";
            inputClave.id = "claveSecreta";
            inputClave.placeholder = "clave...";
            document.getElementById("terminal").appendChild(inputClave);

            const botonClave = document.createElement("button");
            botonClave.innerText = "Desbloquear";
            botonClave.onclick = async () => {
                await escribir("> ‚úîÔ∏è Clave correcta. Descifrando mensaje...");
                await animarDescifrado();
                await escribir("\n--- COMIENZO DEL MENSAJE ---\n");
                await escribir(mensajeDescifrado, 10);
                await escribir("\n--- FIN DEL MENSAJE ---");
                mostrarRetoFinal();
            };
            document.getElementById("terminal").appendChild(botonClave);
        } else {
            await escribir("\n> Opci√≥n inv√°lida.");
        }
    }

    async function animarDescifrado() {
        const barras = [
            "‚ñà‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí 20%",
            "‚ñà‚ñà‚ñà‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí 40%",
            "‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí 60%",
            "‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí‚ñí 80%",
            "‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ"
        ];
        for (let barra of barras) {
            await escribir(barra);
            await new Promise(r => setTimeout(r, 500));
        }
    }

    async function mostrarRetoFinal() {
        await escribir("\n\n> ¬øLista para el reto final?");
        await escribir("> Frase secreta en binario:");
        await escribir(binarioFinal);
        await escribir("\n\n> ¬øC√≥mo descifrarlo a mano?");
        await escribir("1. Cada grupo de 8 d√≠gitos es una letra codificada en binario.");
        await escribir("2. Convierte cada bloque a decimal.");
        await escribir("3. Usa una tabla ASCII para saber qu√© letra corresponde.");
        await escribir("4. Une todas las letras. Ejemplo:");
        await escribir("   Bloque binario: 01001000");
        await escribir("   Posiciones: 128 64 32 16 8 4 2 1 = 0 1 0 0 1 0 0 0");
        await escribir("   Suma: 64 + 8 = 72 ‚Üí Letra: H");
        await escribir("üí° Puedes consultar una tabla ASCII aqu√≠:");
        await escribir("‚û°Ô∏è https://www.asciitable.com/");
        await escribir("\n¬°Feliz descifrado y feliz aniversario! üéâ");
    }
</script>

</body>
</html>
